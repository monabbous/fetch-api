{"version":3,"sources":["fetch-api-headers.ts","index.ts","fetch-api.ts","fetch-api.cdn.ts"],"names":[],"mappings":"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","file":"fetch-api.cdn.js","sourceRoot":"../src","sourcesContent":["export class FetchApiHeaders implements Omit<any, keyof FetchApiHeaders> {\n    public headers: Record<string, string> | Headers | string[][] = {};\n    [k: string]: any;\n\n\n    [Symbol.iterator]() {\n        if (this.headers instanceof Headers || Array.isArray(this.headers)) {\n            return this.headers['[Symbol.iterator]']();\n        }\n        const keys = Object.keys(this.headers);\n        let i = keys.length;\n        return {\n            next: () => {\n                return {\n                    done: (i < 0),\n                    value: this.headers[keys[--i]]\n                }\n            }\n        };\n\n    }\n\n    constructor(headers?: Record<string, string> | Headers | string[][] | FetchApiHeaders) {\n        this.headers = headers instanceof FetchApiHeaders ? headers.headers : headers || {};\n\n        return new Proxy(this, {\n            get(target: FetchApiHeaders, p: string, receiver: any): any {\n                if (['headers', 'get', 'set', 'append', 'delete', 'has'].indexOf(p) === -1) {\n                    return target.get(p);\n                } else {\n                    return target[p];\n                }\n            },\n            set(target: FetchApiHeaders, p: string, value: any, receiver: any): boolean {\n                if (['headers', 'get', 'set', 'append', 'delete', 'has'].indexOf(p) === -1) {\n                    target.set(p, value);\n                }\n                return true;\n            },\n            deleteProperty(target: FetchApiHeaders, p: string): boolean {\n                if (['headers', 'get', 'set', 'append', 'delete', 'has'].indexOf(p) === -1) {\n                    target.delete(p);\n                }\n                return false;\n            }\n        });\n    }\n\n    public set(key: string, value: any) {\n        if (this.headers instanceof Headers) {\n            this.headers.set(key, value);\n        } else if (Array.isArray(this.headers)) {\n            const index = this.headers.findIndex(h => Array.isArray(h) ? h[0] === key : false)\n            if (index > -1) {\n                this.headers[index] = ([key].concat(value));\n            } else {\n                this.headers.push([key].concat(value));\n            }\n        } else {\n            this.headers = this.headers ?? {};\n            this.headers[key] = value;\n        }\n        return this;\n    }\n\n    public append(key: string, value: any) {\n        if (this.headers instanceof Headers) {\n            this.headers.append(key, value);\n        } else if (Array.isArray(this.headers)) {\n            this.headers.push([key].concat(value));\n        } else {\n            this.headers = this.headers ?? {};\n            this.headers[key] = value;\n        }\n        return this;\n    }\n\n    public delete(key: string) {\n        if (this.headers instanceof Headers) {\n            this.headers.delete(key);\n        } else if (Array.isArray(this.headers)) {\n            const index = this.headers.findIndex(h => Array.isArray(h) ? h[0] === key : false)\n            if (index > -1) {\n                this.headers.splice(index, 1);\n            }\n        } else if (typeof this.headers === 'object') {\n            delete this.headers[key];\n        }\n        return this;\n    }\n\n    public get(key: string) {\n        if (this.headers instanceof Headers) {\n            return this.headers.get(key);\n        } else if (Array.isArray(this.headers)) {\n            const header = this.headers.find(h => Array.isArray(h) ? h[0] === key : false);\n            if (header) {\n                return header.slice(0).join(', ');\n            }\n        } else if (typeof this.headers === 'object') {\n            return this.headers[key];\n        }\n        return undefined;\n    }\n\n    public has(key: string) {\n        if (this.headers instanceof Headers) {\n            return this.headers.has(key);\n        } else if (Array.isArray(this.headers)) {\n            return !!this.headers.find(h => Array.isArray(h) ? h[0] === key : false)\n        } else if (typeof this.headers === 'object') {\n            return !!this.headers[key];\n        }\n        return false;\n    }\n}","export * from './fetch-api'\nexport * from './fetch-api-headers';\n\n","import { FetchApiHeaders } from \".\";\nimport {\n    ArrayBufferRequest,\n    BlobRequest, DefaultRequest,\n    JSONRequest, ReadRequestInput,\n    Request, RequestInput,\n    TextRequest, WriteRequestInput\n} from \"./interfaces/requests.interface\";\n\ninterface ServerVersions {\n    [key: string]: string;\n}\n\ninterface Server {\n    baseUrl: string;\n    versions: ServerVersions;\n    defaultVersion: keyof ServerVersions;\n}\n\nexport interface Servers {\n    [key: string]: Server;\n}\n\n\nconst flattenObject = (object) => {\n    const f = (o, acc, keys) => {\n        return Object.entries(o).reduce((a, [k, value]) => {\n            let key = [...keys, k];\n            if (typeof value === 'object') {\n                f(value, a, key);\n            } else {\n                a[key.reduce((a, b) => `${a}[${b}]`)] = value;\n            }\n            return a;\n        }, acc);\n    }\n\n    return f(object, {}, []);\n}\n\nexport class FetchApi {\n\n    public static servers: Servers = {};\n    public static defaultServer: string = '';\n    public static readonly interceptors: {\n        request?(request: (Request & RequestInput), next: (request: (Request & RequestInput)) => Promise<any | string | Blob | ArrayBuffer>): Promise<Response | any>\n        response?(response: Response, request: (Request & RequestInput), next: (response: Response) => Promise<any | string | Blob | ArrayBuffer>): Promise<Response | any>\n    } = {};\n\n    public static getFullUrl(server, version): string {\n        server = FetchApi.handleServer(server);\n        version = FetchApi.handleServerVersion(server, version);\n        return FetchApi.servers[server]?.baseUrl + FetchApi.servers[server]?.versions[version];\n    }\n\n\n    protected static handleServer(server): string {\n        if (Object.keys(FetchApi.servers).indexOf(server) === -1) {\n            if (server !== undefined) {\n                console.warn(`Ng Api Wrapper: Server '${server}' is not in the configuration, will use the defaultServer`);\n            }\n            server = FetchApi.defaultServer;\n        }\n        return server;\n    }\n\n    protected static handleServerVersion(server, version): string {\n        if (Object.keys(FetchApi.servers[server].versions).indexOf(version) === -1) {\n            if (version !== undefined) {\n                console.warn(`Ng Api Wrapper: Server '${server}' Api version '${version}' is not in the configuration, will use the defaultVersion`);\n            }\n            version = FetchApi.servers[server]?.defaultVersion;\n        }\n        return version;\n    }\n\n    public static request(request: DefaultRequest & RequestInput): Promise<Response>;\n    public static request<T extends string = string>(request: TextRequest & RequestInput): Promise<T>;\n    public static request<T extends Blob = Blob>(request: BlobRequest & RequestInput): Promise<T>;\n    public static request<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & RequestInput): Promise<T>;\n    public static request<T = unknown>(request: JSONRequest & RequestInput): Promise<T>;\n    public static async request<T = any>(request: Request & RequestInput) {\n        if (request.outsource !== true) {\n            request.baseUrl = FetchApi.getFullUrl(request.server, request.version);\n        }\n        request.observe = request.observe || 'body';\n        request.responseType = request.responseType || 'json';\n        let hasError = false;\n\n        const next = (r: Request & RequestInput) => {\n            request = r;\n            request.headers = new FetchApiHeaders(request.headers).set('X-Requested-With', 'XMLHttpRequest');\n            let url: URL;\n            if (request.outsource !== true) {\n                if (request.server !== request.server && request.version !== request.version) {\n                    request.baseUrl = FetchApi.getFullUrl(request.server, request.version);\n                }\n                url = new URL(request.baseUrl + request.path);\n            } else {\n                url = new URL(request.path);\n            }\n\n            if (request.method === 'GET' && (request.body instanceof URLSearchParams || request.body instanceof Object)) {\n                const params = new URLSearchParams(request.body instanceof URLSearchParams ? request.body : Object.entries(flattenObject(request.body)));\n                delete request.body;\n                params.forEach((v, k) => url.searchParams.set(k.replace(/^\\?/, ''), v));\n            } else {\n                if (\n                    !(request.body instanceof Blob ||\n                        request.body instanceof FormData ||\n                        request.body instanceof ArrayBuffer ||\n                        request.body instanceof URLSearchParams ||\n                        request.body instanceof ReadableStream ||\n                        request.body instanceof String)\n                    && ['application/json', '', undefined, null].includes(request.headers['Content-Type'])) {\n                    request.headers = new FetchApiHeaders(request.headers).set('Content-Type', 'application/json');\n                    if (request.flatten) {\n                        request.body = flattenObject(request.body);\n                    }\n\n                    request.body = JSON.stringify(request.body);\n                } else if (request.body instanceof FormData) {\n                    request.headers = new FetchApiHeaders(request.headers).set('Content-Type', 'multipart/form-data');\n                }\n            }\n            if (request.headers) {\n                request.headers = request.headers.headers as HeadersInit;\n            }\n            return fetch(url.toString(), request as RequestInit);\n        };\n\n        const nextResponse = async (res) => {\n            if (request.observe === \"body\" && res instanceof Response) {\n                let body: any = res.body;\n                switch (request.responseType) {\n                    case \"text\":\n                        body = (await res.text()) as (T | String);\n                        break;\n                    case \"json\":\n                        body = (await res.json()) as (T | Object);\n                        break;\n                    case \"blob\":\n                        body = (await res.blob()) as (T | Blob);\n                        break;\n                    case \"arraybuffer\":\n                        body = (await res.arrayBuffer()) as (T | ArrayBuffer);\n                        break;\n                }\n\n                if (hasError) {\n                    throw body;\n                }\n                return body;\n            } else if (res.observe === \"response\" && res instanceof Response) {\n                if (hasError) {\n                    return res as Response;\n                } else {\n                    throw res as Response;\n                }\n            }\n            if (hasError) {\n                return res;\n            } else {\n                throw res;\n            }\n        }\n\n\n        try {\n            const response = await (FetchApi.interceptors.request ? FetchApi.interceptors.request(request, next) : next(request));\n            return await (FetchApi.interceptors.response ? FetchApi.interceptors.response(response, request, nextResponse) : nextResponse(response));\n        } catch (error) {\n            hasError = true;\n            throw await (FetchApi.interceptors.response ? FetchApi.interceptors.response(error, request, nextResponse) : nextResponse(error));\n        }\n    }\n\n    public static get(request: DefaultRequest & Omit<ReadRequestInput, 'method'>): Promise<Response>;\n    public static get<T extends string = string>(request: TextRequest & Omit<ReadRequestInput, 'method'>): Promise<T>;\n    public static get<T extends Blob = Blob>(request: BlobRequest & Omit<ReadRequestInput, 'method'>): Promise<T>;\n    public static get<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & Omit<ReadRequestInput, 'method'>): Promise<T>;\n    public static get<T = any>(request: JSONRequest & Omit<ReadRequestInput, 'method'>): Promise<T>;\n    public static get<T = unknown>(request: Request & Omit<ReadRequestInput, 'method'>) {\n        // @ts-ignore\n        return FetchApi.request<T>({...request, method: 'GET'});\n    }\n\n    public static post(request: DefaultRequest & Omit<WriteRequestInput, 'method'>): Promise<Response>;\n    public static post<T extends string = string>(request: TextRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static post<T extends Blob = Blob>(request: BlobRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static post<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static post<T = any>(request: JSONRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static post<T = unknown>(request: Request & Omit<WriteRequestInput, 'method'>) {\n        // @ts-ignore\n        return FetchApi.request<T>({\n            ...request,\n            method: 'POST'\n        });\n    }\n\n    public static put(request: DefaultRequest & Omit<WriteRequestInput, 'method'>): Promise<Response>;\n    public static put<T extends string = string>(request: TextRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static put<T extends Blob = Blob>(request: BlobRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static put<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static put<T = any>(request: JSONRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static put<T = unknown>(request: Request & Omit<WriteRequestInput, 'method'>) {\n        // @ts-ignore\n        return FetchApi.request<T>({...request, method: 'PUT'} as Request & WriteRequestInput);\n    }\n\n    public static patch(request: DefaultRequest & Omit<WriteRequestInput, 'method'>): Promise<Response>;\n    public static patch<T extends string = string>(request: TextRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static patch<T extends Blob = Blob>(request: BlobRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static patch<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static patch<T = any>(request: JSONRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static patch<T = unknown>(request: Request & Omit<WriteRequestInput, 'method'>) {\n        // @ts-ignore\n        return FetchApi.request<T>({\n            ...request,\n            method: 'PATCH'\n        });\n    }\n\n    public static delete(request: DefaultRequest & Omit<WriteRequestInput, 'method'>): Promise<Response>;\n    public static delete<T extends string = string>(request: TextRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static delete<T extends Blob = Blob>(request: BlobRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static delete<T extends ArrayBuffer = ArrayBuffer>(request: ArrayBufferRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static delete<T = any>(request: JSONRequest & Omit<WriteRequestInput, 'method'>): Promise<T>;\n    public static delete<T = unknown>(request: Request & Omit<WriteRequestInput, 'method'>) {\n        // @ts-ignore\n        return FetchApi.request<T>({...request, method: 'DELETE'});\n    }\n\n}\n","import {FetchApi} from \"./fetch-api\";\nimport {FetchApiHeaders} from \"./fetch-api-headers\";\n\n\n\n// @ts-ignore\nwindow.FetchApiHeaders = FetchApiHeaders;\n// @ts-ignore\nwindow.FetchApi = FetchApi;\n\n"]}